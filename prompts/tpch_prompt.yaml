_type: prompt
input_variables:
  ["input"]
template: >
  Given below are the table structures in FIVETRAN_INGEST.CROWD_PROD_PUBLIC database raw schema in snowflake cloud database
  ACTIVITIES (
  ID VARCHAR(256) PRIMARY KEY,
  SOURCEID VARCHAR(256),
  SENTIMENT VARIANT,
  CHANNEL VARCHAR(256),
  TYPE VARCHAR(256),
  BODY VARCHAR(262144),
  TITLE VARCHAR(1024),
  PLATFORM VARCHAR(256),
  ORGANIZATIONID VARCHAR(256),
  SEGMENTID VARCHAR(256),
  TIMESTAMP TIMESTAMP_TZ(9),
  MEMBERID VARCHAR(256),
  SOURCEPARENTID VARCHAR(1020),
  URL VARCHAR(512),
  ISCONTRIBUTION BOOLEAN,
  ATTRIBUTES VARIANT,
  USERNAME VARCHAR(512),
  SCORE NUMBER(38,0)
  );
  MEMBERS (
    ID VARCHAR(256) PRIMARY KEY,
    DISPLAYNAME VARCHAR(512),
    LASTENRICHED TIMESTAMP_NTZ(9),
    SEARCHSYNCEDAT TIMESTAMP_TZ(9),
    EMAILS VARIANT,
    SCORE NUMBER(38,0),
    CONTRIBUTIONS VARIANT,
    ATTRIBUTES VARIANT,
  );
  ORGANIZATIONS (
  ID VARCHAR(256) PRIMARY KEY,
  PARENTURL VARCHAR(256),
  DISPLAYNAME VARCHAR(512),
  LASTENRICHEDAT TIMESTAMP_TZ(9),
  DESCRIPTION VARCHAR(16384),
  INDUSTRY VARCHAR(256),
  LINKEDIN VARIANT,
  EMPLOYEECOUNTBYCOUNTRY VARIANT,
  TYPE VARCHAR(256),
  PHONENUMBERS VARIANT,
  ISTEAMORGANIZATION BOOLEAN,
  EMAILS VARIANT,
  CREATEDAT TIMESTAMP_TZ(9),
  TWITTER VARIANT,
  LOGO VARCHAR(1024),
  HEADLINE VARCHAR(256),
  CREATEDBYID VARCHAR(256),
  UPDATEDAT TIMESTAMP_TZ(9),
  GITHUB VARIANT,
  WEBSITE VARCHAR(1024),
  TICKER VARCHAR(256),
  ADDRESS VARIANT,
  PROFILES VARIANT,
  FOUNDED NUMBER(38,0),
  UPDATEDBYID VARCHAR(256),
  URL VARCHAR(256),
  TAGS VARIANT,
  CRUNCHBASE VARIANT,
  DELETEDAT TIMESTAMP_TZ(9),
  REVENUERANGE VARIANT,
  IMPORTHASH VARCHAR(1020),
  SIZE VARCHAR(256),
  GEOLOCATION VARCHAR(256),
  NAME VARCHAR(256),
  TENANTID VARCHAR(256),
  LOCATION VARCHAR(256),
  EMPLOYEES NUMBER(38,0),
  NAICS VARIANT,
  ATTRIBUTES VARIANT,
  ALLSUBSIDIARIES VARIANT,
  ALTERNATIVEDOMAINS VARIANT,
  IMMEDIATEPARENT VARCHAR(256),
  GICSSECTOR VARCHAR(256),
  MANUALLYCREATED BOOLEAN,
  EMPLOYEECOUNTBYMONTHBYROLE VARIANT,
  GROSSADDITIONSBYMONTH VARIANT,
  GROSSDEPARTURESBYMONTH VARIANT,
  EMPLOYEECOUNTBYMONTHBYLEVEL VARIANT,
  AFFILIATEDPROFILES VARIANT,
  AVERAGETENUREBYROLE VARIANT,
  EMPLOYEEGROWTHRATE VARIANT,
  AVERAGETENUREBYLEVEL VARIANT,
  ALTERNATIVENAMES VARIANT,
  ULTIMATEPARENT VARCHAR(256),
  DIRECTSUBSIDIARIES VARIANT,
  AVERAGEEMPLOYEETENURE FLOAT,
  EMPLOYEECHURNRATE VARIANT,
  EMPLOYEECOUNTBYMONTH VARIANT,
  );
  SEGMENTS (
  ID VARCHAR(256) PRIMARY KEY,
  SOURCEID VARCHAR(256),
  GRANDPARENTNAME VARCHAR(256),
  GRANDPARENTSLUG VARCHAR(256),
  SOURCEPARENTID VARCHAR(256),
  DESCRIPTION VARCHAR(256),
  URL VARCHAR(256),
  PARENTNAME VARCHAR(256),
  CUSTOMACTIVITYTYPES VARIANT,
  ACTIVITYCHANNELS VARIANT,
  NAME VARCHAR(256),
  SLUG VARCHAR(256),
  PARENTSLUG VARCHAR(256),
  STATUS VARCHAR(256),
  );
  take user questions and response back with sql query.
  example : 
  user question : give me the number of activities of the last 10 days
  your generated sql query: SELECT COUNT(ID) 
                          FROM FIVETRAN_INGEST.CROWD_PROD_PUBLIC.ACTIVITIES 
                          WHERE TIMESTAMP >= CURRENT_TIMESTAMP() - INTERVAL '10 days'
  example :
  user question :  tell me top 3 contributors of cncf project
  your generated sql query : SELECT 
                            a.MEMBERID, me.DISPLAYNAME, count(a.id)
                            FROM FIVETRAN_INGEST.CROWD_PROD_PUBLIC.ACTIVITIES a
                            INNER JOIN FIVETRAN_INGEST.CROWD_PROD_PUBLIC.SEGMENTS se ON se.ID =a.SEGMENTID 
                            INNER JOIN FIVETRAN_INGEST.CROWD_PROD_PUBLIC.MEMBERS me ON me.ID =a.MEMBERID 
                            WHERE se.SLUG ='cncf'
                            GROUP BY all
                            ORDER BY 3 desc
                            LIMIT 3;
  example :
  user_question : tell me top 3 organizations contributing to cncf project
  your generated sql query: SELECT 
                            a.ORGANIZATIONID , org.DISPLAYNAME , count(a.id)
                            FROM FIVETRAN_INGEST.CROWD_PROD_PUBLIC.ACTIVITIES a
                            INNER JOIN FIVETRAN_INGEST.CROWD_PROD_PUBLIC.SEGMENTS se ON se.ID =a.SEGMENTID 
                            INNER JOIN FIVETRAN_INGEST.CROWD_PROD_PUBLIC.ORGANIZATIONS  org ON org.ID =a.ORGANIZATIONID  
                            WHERE se.SLUG ='cncf'
                            GROUP BY all
                            ORDER BY 3 desc
                            LIMIT 3;
  user question : {input}
  your generated sql query : 